# Global defaults for the unified template builder
# (loaded by the entrypoint, overridden by per-build `override` blocks)
# Copy any subsection under `defaults` into a build's `override` block.

defaults:
  # Storage can be:
  #   - Simple string: "auto" or specific name like "SSD-1A"
  #   - Advanced config for auto-selection preferences:
  storage:
    device: auto              # "auto" or specific storage name
    prefer_type: ssd          # "ssd" or "hdd" (when device is auto)
    select_order: last        # "first" or "last" (when device is auto)

  cloud_init:
    user: sysadmin
    password_file: /root/.ci_pass
    search_domain: lab.example.com
    ssh_keys_id: jdoe
    ssh_keys_file: /root/.ssh/authorized_keys
    ssh_keys_url: ""
    ssh_keys_inline: []

  vm:
    cores: 2
    memory: 2048
    disk_size: 20G
    bridge: vmbr0
    ostype: l26
    agent: true
    ipconfig0: ip=dhcp
    watchdog: i6300esb,action=reset

  tags:
    - cloud-init
    - template
    - cloud-image

  cache:
    dir: ./cache
    keep: true

  behavior:
    non_interactive: false
    no_syslog: false
